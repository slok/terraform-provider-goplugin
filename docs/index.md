---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "goplugin Provider"
subcategory: ""
description: |-
  A Terraform provider to create terraform providers ðŸ¤¯, but easier and faster!
  Terraform go plugin provider is a Terraform provider that will let you execute Go plugins (using yaegi https://github.com/traefik/yaegi) in terraform by implementing a very simple and small Go API.
  Check all full documentation on the repository readme https://github.com/slok/terraform-provider-goplugin.Check the examples https://github.com/slok/terraform-provider-goplugin/tree/main/examples to see how to develop your own plugins.Check Go v1 lib https://pkg.go.dev/github.com/slok/terraform-provider-goplugin/pkg/api/v1.
---

# goplugin Provider

A Terraform provider to create terraform providers ðŸ¤¯, but easier and faster!

Terraform go plugin provider is a Terraform provider that will let you execute Go plugins (using [yaegi](https://github.com/traefik/yaegi)) in terraform by implementing a very simple and small Go API.

- Check all full documentation on the repository [readme](https://github.com/slok/terraform-provider-goplugin).
- Check the [examples](https://github.com/slok/terraform-provider-goplugin/tree/main/examples) to see how to develop your own plugins.
- Check [Go v1 lib](https://pkg.go.dev/github.com/slok/terraform-provider-goplugin/pkg/api/v1).

## Example Usage

```terraform
terraform {
  required_providers {
    goplugin = {
      source = "slok/goplugin"
    }
  }
}

// Load all required plugins on the provider.
provider goplugin { 
  resource_plugins_v1 = {
    "os_file": {
      source_code = {
        data = [for f in fileset("./", "local_plugins/os_file/*"): file(f)]
      }
      configuration =  jsonencode({})
    }
    "github_gist": {
      source_code = {
        git = {
          url = "https://github.com/slok/terraform-provider-goplugin"
          paths_regex = ["examples/github_gist/plugins/.*\\.go"]
        } 
      }
      configuration =  jsonencode({
         // TF_GITHUB_TOKEN loaded from env var.
         api_url = "https://api.github.com"
      })
    }
  }
}

locals {
    files = {
        "tf-test1.txt": "test-1"
        "tf-test2.txt": "test-2"
        "tf-test3.txt": "test-3"
    }
}

// Use the plugins.
resource "goplugin_plugin_v1" "os_file_test" {
  for_each = local.files
  
  plugin_id = "os_file"
  resource_data = jsonencode({
    path = "/tmp/${each.key}"
    content = each.value
    mode = 644
  })
}

resource "goplugin_plugin_v1" "github_gist_test" {
  for_each = local.files
  
  plugin_id = "github_gist"
  resource_data = jsonencode({
    description = "Managed by terraform."
    public = true
    files = {"${each.key}": each.value}
  })
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `data_source_plugins_v1` (Attributes Map) The Block of data source plugins using v1 API that will be loaded by the provider. (see [below for nested schema](#nestedatt--data_source_plugins_v1))
- `resource_plugins_v1` (Attributes Map) The Block of resource plugins using v1 API that will be loaded by the provider. (see [below for nested schema](#nestedatt--resource_plugins_v1))

<a id="nestedatt--data_source_plugins_v1"></a>
### Nested Schema for `data_source_plugins_v1`

Required:

- `configuration` (String, Sensitive) A JSON string object with the properties that will be passed to the plugin creation/initialization, the plugin is responsible of knowing how to load and use these properties (e.g: API tokens).
- `source_code` (Attributes) Configuration regarding where the plugin code will be loaded from. Only one must be used of all the methods available (see [below for nested schema](#nestedatt--data_source_plugins_v1--source_code))

<a id="nestedatt--data_source_plugins_v1--source_code"></a>
### Nested Schema for `data_source_plugins_v1.source_code`

Optional:

- `data` (List of String) Raw content data of the plugins.
- `git` (Attributes) Git repository to get the plugin source data from. (see [below for nested schema](#nestedatt--data_source_plugins_v1--source_code--git))

<a id="nestedatt--data_source_plugins_v1--source_code--git"></a>
### Nested Schema for `data_source_plugins_v1.source_code.git`

Required:

- `paths_regex` (List of String) List of regex that will match the files that will be loaded as the plugin source data.
- `url` (String) URL of the repository.

Optional:

- `ref` (String) Reference of the the repository, only Branch and tags are supported.




<a id="nestedatt--resource_plugins_v1"></a>
### Nested Schema for `resource_plugins_v1`

Required:

- `configuration` (String, Sensitive) A JSON string object with the properties that will be passed to the plugin creation/initialization, the plugin is responsible of knowing how to load and use these properties (e.g: API tokens).
- `source_code` (Attributes) Configuration regarding where the plugin code will be loaded from. Only one must be used of all the methods available (see [below for nested schema](#nestedatt--resource_plugins_v1--source_code))

<a id="nestedatt--resource_plugins_v1--source_code"></a>
### Nested Schema for `resource_plugins_v1.source_code`

Optional:

- `data` (List of String) Raw content data of the plugins.
- `git` (Attributes) Git repository to get the plugin source data from. (see [below for nested schema](#nestedatt--resource_plugins_v1--source_code--git))

<a id="nestedatt--resource_plugins_v1--source_code--git"></a>
### Nested Schema for `resource_plugins_v1.source_code.git`

Required:

- `paths_regex` (List of String) List of regex that will match the files that will be loaded as the plugin source data.
- `url` (String) URL of the repository.

Optional:

- `ref` (String) Reference of the the repository, only Branch and tags are supported.
